@model PeterGlozikUmbracoOsobnaStranka.lib.Models.DashboardBlog.MemberBlogModel


<h1>Blog</h1>
@{
    using (Html.BeginUmbracoForm<PeterGlozikUmbracoOsobnaStranka.lib.Controllers.DashboardBlog.BlogPostController>("SaveRecord", null, new { @class = "form-horizontal", role = "form" }))
    {
    <div class="osobnastranka-form">
        @Html.AntiForgeryToken()
        @Html.ValidationSummary(true, "Údaje sa nepodarilo uložiť. Prosím opravte chyby a skúste to znovu.")
        <div class="row">
            <div class="col-md-6">
                <div class="form-item-hidden">
                    @Html.TextBoxFor(m => m.pk, new { @class = "form-control", @readonly = "readonly" })
                </div>
                <div class="form-item">
                    @Html.LabelFor(x => x.BlogName)
                    @Html.TextBoxFor(m => m.BlogName, new { @class = "form-control" })
                    @Html.ValidationMessageFor(m => m.BlogName)
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-item">
                    @Html.LabelFor(x => x.BlogWeb)
                    @Html.TextBoxFor(m => m.BlogWeb, new { @class = "form-control" })
                    @Html.ValidationMessageFor(m => m.BlogWeb)
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <div class="form-item">
                    @Html.LabelFor(x => x.BlogDescription)
                    @Html.Raw(Html.TextAreaFor(m => m.BlogDescription, new { @class = "form-control ckedit", rows = 10 }).ToHtmlString())
                    @Html.ValidationMessageFor(m => m.BlogDescription)
                </div>
            </div>
            <div class="col-md-12">
                <div class="form-item">
                    @Html.LabelFor(x => x.BlogImage, "Upload Image")
                    @Html.TextBoxFor(m => m.BlogImage, new { type = "file", @class = "form-control" }) <!-- Input pre upload -->
                    @Html.ValidationMessageFor(m => m.BlogImage)
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <a href="#" onclick="document.getElementById('submitButton').click(); return false;" class="btn btn-default btn-lg">Zapísať</a>
                <a href="@Url.Content("~/sk/clenska-sekcia/public-blog")" class="btn btn-default btn-lg">Späť</a>
                <input type="submit" id="submitButton" class="hidden" />
            </div>
        </div>
    </div>
    }
}

@Html.Partial("Layout/_CKEditor", new PeterGlozikUmbracoOsobnaStranka.lib.Models.DashboardBlog.CKEditorModel("ckedit", "200"))
